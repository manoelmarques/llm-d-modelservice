{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "additionalProperties": false,
  "properties": {
    "accelerator": {
      "additionalProperties": false,
      "description": " Supported types: nvidia, intel-i915, intel-xe, intel-gaudi, amd, google, cpu",
      "properties": {
        "dra": {
          "default": false,
          "description": " type: boolean @schema Enable Dynamic Resource Allocation (DRA) for accelerators When true, uses resourceClaimTemplates instead of device plugin resources",
          "required": [],
          "title": "dra",
          "type": "boolean"
        },
        "env": {
          "additionalProperties": false,
          "description": "Environment variables specific to accelerator types",
          "properties": {
            "intel-i915": {
              "items": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "name": {
                        "default": "VLLM_USE_V1",
                        "required": [],
                        "title": "name",
                        "type": "string"
                      },
                      "value": {
                        "default": "1",
                        "required": [],
                        "title": "value",
                        "type": "string"
                      }
                    },
                    "required": [],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "name": {
                        "default": "TORCH_LLM_ALLREDUCE",
                        "required": [],
                        "title": "name",
                        "type": "string"
                      },
                      "value": {
                        "default": "1",
                        "required": [],
                        "title": "value",
                        "type": "string"
                      }
                    },
                    "required": [],
                    "type": "object"
                  },
                  {
                    "additionalProperties": false,
                    "properties": {
                      "name": {
                        "default": "VLLM_WORKER_MULTIPROC_METHOD",
                        "required": [],
                        "title": "name",
                        "type": "string"
                      },
                      "value": {
                        "default": "spawn",
                        "required": [],
                        "title": "value",
                        "type": "string"
                      }
                    },
                    "required": [],
                    "type": "object"
                  }
                ],
                "required": []
              },
              "required": [],
              "title": "intel-i915",
              "type": "array"
            },
            "intel-xe": {
              "items": {
                "anyOf": [
                  {
                    "additionalProperties": false,
                    "properties": {
                      "name": {
                        "default": "VLLM_WORKER_MULTIPROC_METHOD",
                        "required": [],
                        "title": "name",
                        "type": "string"
                      },
                      "value": {
                        "default": "spawn",
                        "required": [],
                        "title": "value",
                        "type": "string"
                      }
                    },
                    "required": [],
                    "type": "object"
                  }
                ],
                "required": []
              },
              "required": [],
              "title": "intel-xe",
              "type": "array"
            }
          },
          "required": [],
          "title": "env",
          "type": "object"
        },
        "resourceClaimTemplates": {
          "additionalProperties": false,
          "description": " Each accelerator type can have its own claim template configuration",
          "properties": {
            "amd": {
              "additionalProperties": false,
              "properties": {
                "class": {
                  "default": "gpu.amd.com",
                  "required": [],
                  "title": "class",
                  "type": "string"
                },
                "match": {
                  "default": "exactly",
                  "required": [],
                  "title": "match",
                  "type": "string"
                },
                "name": {
                  "default": "amd-claim-template",
                  "required": [],
                  "title": "name",
                  "type": "string"
                },
                "selectors": {
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "selectors",
                  "type": "array"
                }
              },
              "required": [],
              "title": "amd",
              "type": "object"
            },
            "google": {
              "additionalProperties": false,
              "properties": {
                "class": {
                  "default": "tpu.google.com",
                  "required": [],
                  "title": "class",
                  "type": "string"
                },
                "match": {
                  "default": "exactly",
                  "required": [],
                  "title": "match",
                  "type": "string"
                },
                "name": {
                  "default": "google-claim-template",
                  "required": [],
                  "title": "name",
                  "type": "string"
                },
                "selectors": {
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "selectors",
                  "type": "array"
                }
              },
              "required": [],
              "title": "google",
              "type": "object"
            },
            "intel": {
              "additionalProperties": false,
              "properties": {
                "class": {
                  "default": "gpu.intel.com",
                  "required": [],
                  "title": "class",
                  "type": "string"
                },
                "match": {
                  "default": "exactly",
                  "required": [],
                  "title": "match",
                  "type": "string"
                },
                "name": {
                  "default": "intel-claim-template",
                  "required": [],
                  "title": "name",
                  "type": "string"
                },
                "selectors": {
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "selectors",
                  "type": "array"
                }
              },
              "required": [],
              "title": "intel",
              "type": "object"
            },
            "intel-gaudi": {
              "additionalProperties": false,
              "properties": {
                "class": {
                  "default": "gaudi.intel.com",
                  "required": [],
                  "title": "class",
                  "type": "string"
                },
                "match": {
                  "default": "exactly",
                  "required": [],
                  "title": "match",
                  "type": "string"
                },
                "name": {
                  "default": "intel-gaudi-claim-template",
                  "required": [],
                  "title": "name",
                  "type": "string"
                },
                "selectors": {
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "selectors",
                  "type": "array"
                }
              },
              "required": [],
              "title": "intel-gaudi",
              "type": "object"
            },
            "intel-i915": {
              "additionalProperties": false,
              "properties": {
                "class": {
                  "default": "gpu.intel.com",
                  "required": [],
                  "title": "class",
                  "type": "string"
                },
                "match": {
                  "default": "exactly",
                  "required": [],
                  "title": "match",
                  "type": "string"
                },
                "name": {
                  "default": "intel-claim-template",
                  "required": [],
                  "title": "name",
                  "type": "string"
                },
                "selectors": {
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "selectors",
                  "type": "array"
                }
              },
              "required": [],
              "title": "intel-i915",
              "type": "object"
            },
            "intel-xe": {
              "additionalProperties": false,
              "properties": {
                "class": {
                  "default": "gpu.intel.com",
                  "required": [],
                  "title": "class",
                  "type": "string"
                },
                "match": {
                  "default": "exactly",
                  "required": [],
                  "title": "match",
                  "type": "string"
                },
                "name": {
                  "default": "intel-claim-template",
                  "required": [],
                  "title": "name",
                  "type": "string"
                },
                "selectors": {
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "selectors",
                  "type": "array"
                }
              },
              "required": [],
              "title": "intel-xe",
              "type": "object"
            },
            "nvidia": {
              "additionalProperties": false,
              "properties": {
                "class": {
                  "default": "gpu.nvidia.com",
                  "required": [],
                  "title": "class",
                  "type": "string"
                },
                "match": {
                  "default": "exactly",
                  "required": [],
                  "title": "match",
                  "type": "string"
                },
                "name": {
                  "default": "nvidia-claim-template",
                  "required": [],
                  "title": "name",
                  "type": "string"
                },
                "selectors": {
                  "description": "count: 1  # Optional: If not specified, auto-calculated from parallelism (tensor * dataLocal)",
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "selectors",
                  "type": "array"
                }
              },
              "required": [],
              "title": "nvidia",
              "type": "object"
            }
          },
          "required": [],
          "title": "resourceClaimTemplates"
        },
        "resources": {
          "additionalProperties": false,
          "description": "Resource names for different accelerator types (used when dra: false)",
          "properties": {
            "amd": {
              "default": "amd.com/gpu",
              "required": [],
              "title": "amd",
              "type": "string"
            },
            "google": {
              "default": "google.com/tpu",
              "required": [],
              "title": "google",
              "type": "string"
            },
            "intel-gaudi": {
              "default": "habana.ai/gaudi",
              "required": [],
              "title": "intel-gaudi",
              "type": "string"
            },
            "intel-i915": {
              "default": "gpu.intel.com/i915",
              "required": [],
              "title": "intel-i915",
              "type": "string"
            },
            "intel-xe": {
              "default": "gpu.intel.com/xe",
              "required": [],
              "title": "intel-xe",
              "type": "string"
            },
            "nvidia": {
              "default": "nvidia.com/gpu",
              "required": [],
              "title": "nvidia",
              "type": "string"
            }
          },
          "required": [],
          "title": "resources",
          "type": "object"
        },
        "type": {
          "default": "nvidia",
          "description": "Type of accelerator to use",
          "required": [],
          "title": "type",
          "type": "string"
        }
      },
      "required": [],
      "title": "accelerator"
    },
    "common": {
      "additionalProperties": true,
      "description": "Common configuration values",
      "required": [],
      "title": "common"
    },
    "decode": {
      "additionalProperties": true,
      "description": "Decode pod configuration",
      "properties": {
        "acceleratorTypes": {
          "additionalProperties": false,
          "description": "Only an option for LWS (multinode) subGroupExclusiveToplogy: true XPU-specific node affinity",
          "properties": {
            "labelKey": {
              "default": "",
              "required": [],
              "title": "labelKey",
              "type": "string"
            },
            "labelValues": {
              "description": " items:   type: string @schema",
              "items": {
                "required": [],
                "type": "string"
              },
              "required": [],
              "title": "labelValues"
            }
          },
          "required": [],
          "title": "acceleratorTypes"
        },
        "autoscaling": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "required": [],
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "autoscaling",
          "type": "object"
        },
        "containers": {
          "description": " type: array items:   type: object   additionalProperties: true @schema",
          "items": {
            "additionalProperties": true,
            "required": [],
            "type": "object"
          },
          "required": [],
          "title": "containers",
          "type": "array"
        },
        "create": {
          "default": true,
          "required": [],
          "title": "create",
          "type": "boolean"
        },
        "initContainers": {
          "description": " type: array items:   $ref: https://raw.githubusercontent.com/yannh/kubernetes-json-schema/master/master/_definitions.json#/definitions/io.k8s.api.core.v1.Container @schema Additional init containers to run before the main containers These will be added alongside the routing proxy init container (if enabled)",
          "items": {
            "$ref": "https://raw.githubusercontent.com/yannh/kubernetes-json-schema/master/master/_definitions.json#/definitions/io.k8s.api.core.v1.Container",
            "required": []
          },
          "required": [],
          "title": "initContainers",
          "type": "array"
        },
        "monitoring": {
          "additionalProperties": true,
          "description": " additionalProperties: true @schema Monitoring configuration for decode pods",
          "properties": {
            "podmonitor": {
              "additionalProperties": false,
              "description": "PodMonitor configuration for Prometheus Operator",
              "properties": {
                "annotations": {
                  "additionalProperties": true,
                  "description": "Additional annotations to be added to the PodMonitor @schema additionalProperties: true @schema",
                  "required": [],
                  "title": "annotations"
                },
                "enabled": {
                  "default": "false",
                  "description": "Create PodMonitor resource for decode deployment",
                  "required": [],
                  "title": "enabled"
                },
                "interval": {
                  "default": "30s",
                  "description": "Interval at which metrics should be scraped",
                  "required": [],
                  "title": "interval"
                },
                "labels": {
                  "additionalProperties": true,
                  "description": "Timeout after which the scrape is ended scrapeTimeout: \"10s\" @schema additionalProperties: true @schema labels -- Additional labels to be added to the PodMonitor",
                  "required": [],
                  "title": "labels"
                },
                "metricRelabelings": {
                  "description": "MetricRelabelConfigs to apply to samples before ingestion",
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "metricRelabelings"
                },
                "path": {
                  "default": "/metrics",
                  "description": "HTTP path to scrape metrics from",
                  "required": [],
                  "title": "path"
                },
                "portName": {
                  "default": "metrics",
                  "description": "Port name to scrape metrics from (must match container port name)",
                  "required": [],
                  "title": "portName"
                },
                "relabelings": {
                  "description": "RelabelConfigs to apply to samples before scraping",
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "relabelings"
                }
              },
              "required": [],
              "title": "podmonitor",
              "type": "object"
            }
          },
          "required": [],
          "title": "monitoring"
        },
        "nodeSelector": {
          "additionalProperties": true,
          "description": " additionalProperties: true @schema",
          "required": [],
          "title": "nodeSelector"
        },
        "parallelism": {
          "additionalProperties": false,
          "description": "VLLM parallelism configuration",
          "properties": {
            "data": {
              "default": 1,
              "required": [],
              "title": "data",
              "type": "integer"
            },
            "dataLocal": {
              "default": 1,
              "required": [],
              "title": "dataLocal",
              "type": "integer"
            },
            "tensor": {
              "default": 1,
              "required": [],
              "title": "tensor",
              "type": "integer"
            },
            "workers": {
              "default": 1,
              "required": [],
              "title": "workers",
              "type": "integer"
            }
          },
          "required": [],
          "title": "parallelism",
          "type": "object"
        },
        "replicas": {
          "default": 1,
          "required": [],
          "title": "replicas",
          "type": "integer"
        },
        "resourceClaims": {
          "description": " type: array items:   type: object   required: [name, resourceClaimTemplateName]   properties:     name:       type: string     resourceClaimTemplateName:       type: string @schema Additional resource claims for non-accelerator resources (e.g., IMEX channels) These will be merged with accelerator claims when accelerator.dra is enabled",
          "items": {
            "properties": {
              "name": {
                "required": [],
                "type": "string"
              },
              "resourceClaimTemplateName": {
                "required": [],
                "type": "string"
              }
            },
            "required": [
              "name",
              "resourceClaimTemplateName"
            ],
            "type": "object"
          },
          "required": [],
          "title": "resourceClaims",
          "type": "array"
        },
        "volumes": {
          "description": " type: array items:   type: object   additionalProperties: true @schema",
          "items": {
            "additionalProperties": true,
            "required": [],
            "type": "object"
          },
          "required": [],
          "title": "volumes",
          "type": "array"
        }
      },
      "required": [],
      "title": "decode"
    },
    "enabled": {
      "default": "true",
      "description": "Usually used when using llm-d-modelservice as a subchart",
      "required": [],
      "title": "enabled"
    },
    "extraObjects": {
      "description": "Extra objects to be deployed alongside the main application",
      "items": {
        "required": [],
        "type": "object"
      },
      "required": [],
      "title": "extraObjects"
    },
    "fullnameOverride": {
      "default": "",
      "description": "String to fully override common.names.fullname",
      "required": [],
      "title": "fullnameOverride"
    },
    "global": {
      "description": "Global values are values that can be accessed from any chart or subchart by exactly the same name.",
      "required": [],
      "title": "global",
      "type": "object"
    },
    "modelArtifacts": {
      "additionalProperties": false,
      "properties": {
        "authSecretName": {
          "default": "",
          "description": "name of secret containing credentials for accessing the model (e.g., HF_TOKEN)",
          "required": [],
          "title": "authSecretName",
          "type": "string"
        },
        "labels": {
          "additionalProperties": true,
          "description": " These should match the labels of any associated InferencePool In addition, the label llm-d.ai/role will be added with the value 'prefill' or 'decode' depending on the role of the pod. @schema type: object additionalProperties: true @schema",
          "properties": {
            "llm-d.ai/inference-serving": {
              "default": "true",
              "required": [],
              "title": "llm-d.ai/inference-serving",
              "type": "string"
            }
          },
          "required": [],
          "title": "labels",
          "type": "object"
        },
        "mountPath": {
          "default": "/model-cache",
          "description": "location where model volume will be mounted (used when mountModelVolume: true)",
          "required": [],
          "title": "mountPath",
          "type": "string"
        },
        "name": {
          "default": "random/model",
          "description": " Required",
          "required": [],
          "title": "name"
        },
        "size": {
          "default": "5Mi",
          "description": "size of volume to create to hold the model",
          "required": [],
          "title": "size",
          "type": "string"
        },
        "uri": {
          "default": "hf://{{ .Values.modelArtifacts.name }}",
          "description": "   hf://model/name - model as defined on Hugging Face   pvc://pvc_name/path/to/model - model on existing persistant storage volume   oci:// not yet supported",
          "required": [],
          "title": "uri"
        }
      },
      "required": [],
      "title": "modelArtifacts",
      "type": "object"
    },
    "multinode": {
      "default": false,
      "description": "When true, a LeaderWorkerSet is used instead of a Deployment",
      "required": [],
      "title": "multinode",
      "type": "boolean"
    },
    "prefill": {
      "additionalProperties": true,
      "description": " additionalProperties: true @schema Prefill pod configuation",
      "properties": {
        "acceleratorTypes": {
          "additionalProperties": false,
          "description": "Only an option for LWS (multinode) subGroupExclusiveToplogy: true XPU-specific node affinity",
          "properties": {
            "labelKey": {
              "default": "",
              "required": [],
              "title": "labelKey",
              "type": "string"
            },
            "labelValues": {
              "description": " items:   type: string @schema",
              "items": {
                "required": [],
                "type": "string"
              },
              "required": [],
              "title": "labelValues"
            }
          },
          "required": [],
          "title": "acceleratorTypes"
        },
        "autoscaling": {
          "additionalProperties": false,
          "properties": {
            "enabled": {
              "default": false,
              "required": [],
              "title": "enabled",
              "type": "boolean"
            }
          },
          "required": [],
          "title": "autoscaling",
          "type": "object"
        },
        "containers": {
          "description": " type: array items:   type: object   additionalProperties: true @schema",
          "items": {
            "additionalProperties": true,
            "required": [],
            "type": "object"
          },
          "required": [],
          "title": "containers",
          "type": "array"
        },
        "create": {
          "default": true,
          "required": [],
          "title": "create",
          "type": "boolean"
        },
        "initContainers": {
          "description": " type: array items:   $ref: https://raw.githubusercontent.com/yannh/kubernetes-json-schema/master/master/_definitions.json#/definitions/io.k8s.api.core.v1.Container @schema Additional init containers to run before the main containers",
          "items": {
            "$ref": "https://raw.githubusercontent.com/yannh/kubernetes-json-schema/master/master/_definitions.json#/definitions/io.k8s.api.core.v1.Container",
            "required": []
          },
          "required": [],
          "title": "initContainers",
          "type": "array"
        },
        "monitoring": {
          "additionalProperties": true,
          "description": " additionalProperties: true @schema Monitoring configuration for prefill pods",
          "properties": {
            "podmonitor": {
              "additionalProperties": false,
              "description": "PodMonitor configuration for Prometheus Operator",
              "properties": {
                "annotations": {
                  "additionalProperties": true,
                  "description": "Additional annotations to be added to the PodMonitor @schema additionalProperties: true @schema",
                  "required": [],
                  "title": "annotations"
                },
                "enabled": {
                  "default": "false",
                  "description": "Create PodMonitor resource for prefill deployment",
                  "required": [],
                  "title": "enabled"
                },
                "interval": {
                  "default": "30s",
                  "description": "Interval at which metrics should be scraped",
                  "required": [],
                  "title": "interval"
                },
                "labels": {
                  "additionalProperties": true,
                  "description": "Timeout after which the scrape is ended scrapeTimeout: \"10s\" @schema additionalProperties: true @schema labels -- Additional labels to be added to the PodMonitor",
                  "required": [],
                  "title": "labels"
                },
                "metricRelabelings": {
                  "description": "MetricRelabelConfigs to apply to samples before ingestion",
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "metricRelabelings"
                },
                "path": {
                  "default": "/metrics",
                  "description": "HTTP path to scrape metrics from",
                  "required": [],
                  "title": "path"
                },
                "portName": {
                  "default": "metrics",
                  "description": "Port name to scrape metrics from (must match container port name)",
                  "required": [],
                  "title": "portName"
                },
                "relabelings": {
                  "description": "RelabelConfigs to apply to samples before scraping",
                  "items": {
                    "required": []
                  },
                  "required": [],
                  "title": "relabelings"
                }
              },
              "required": [],
              "title": "podmonitor",
              "type": "object"
            }
          },
          "required": [],
          "title": "monitoring"
        },
        "nodeSelector": {
          "additionalProperties": true,
          "description": " additionalProperties: true @schema",
          "required": [],
          "title": "nodeSelector"
        },
        "parallelism": {
          "additionalProperties": false,
          "description": "VLLM parallelism configuration",
          "properties": {
            "data": {
              "default": 1,
              "required": [],
              "title": "data",
              "type": "integer"
            },
            "dataLocal": {
              "default": 1,
              "required": [],
              "title": "dataLocal",
              "type": "integer"
            },
            "tensor": {
              "default": 1,
              "required": [],
              "title": "tensor",
              "type": "integer"
            },
            "workers": {
              "default": 1,
              "required": [],
              "title": "workers",
              "type": "integer"
            }
          },
          "required": [],
          "title": "parallelism",
          "type": "object"
        },
        "replicas": {
          "default": 0,
          "required": [],
          "title": "replicas",
          "type": "integer"
        },
        "resourceClaims": {
          "description": " type: array items:   type: object   required: [name, resourceClaimTemplateName]   properties:     name:       type: string     resourceClaimTemplateName:       type: string @schema Additional resource claims for non-accelerator resources (e.g., IMEX channels) These will be merged with accelerator claims when accelerator.dra is enabled",
          "items": {
            "properties": {
              "name": {
                "required": [],
                "type": "string"
              },
              "resourceClaimTemplateName": {
                "required": [],
                "type": "string"
              }
            },
            "required": [
              "name",
              "resourceClaimTemplateName"
            ],
            "type": "object"
          },
          "required": [],
          "title": "resourceClaims",
          "type": "array"
        },
        "volumes": {
          "description": " type: array items:   type: object   additionalProperties: true @schema",
          "items": {
            "additionalProperties": true,
            "required": [],
            "type": "object"
          },
          "required": [],
          "title": "volumes",
          "type": "array"
        }
      },
      "required": [],
      "title": "prefill"
    },
    "requester": {
      "additionalProperties": true,
      "description": "Requester configuration part of the dual-pod solution for FMA",
      "properties": {
        "accelerators": {
          "default": "GPU-0",
          "required": [],
          "title": "accelerators",
          "type": "string"
        },
        "adminPort": {
          "default": 8081,
          "required": [],
          "title": "adminPort",
          "type": "integer"
        },
        "enable": {
          "default": false,
          "required": [],
          "title": "enable",
          "type": "boolean"
        },
        "image": {
          "default": "ghcr.io/llm-d-incubation/llm-d-fast-model-actuation/requester:latest",
          "required": [],
          "title": "image",
          "type": "string"
        },
        "inferenceServerConfig": {
          "default": "",
          "required": [],
          "title": "inferenceServerConfig",
          "type": "string"
        },
        "inferenceServerConfigAnnotations": {
          "additionalProperties": true,
          "default": {},
          "required": [],
          "title": "inferenceServerConfigAnnotations",
          "type": "object"
        },
        "launcherConfig": {
          "default": "",
          "required": [],
          "title": "launcherConfig",
          "type": "string"
        },
        "launcherConfigAnnotations": {
          "additionalProperties": true,
          "default": {},
          "required": [],
          "title": "launcherConfigAnnotations",
          "type": "object"
        },
        "launcherConfigSpec": {
          "additionalProperties": true,
          "required": [],
          "title": "launcherConfigSpec",
          "type": "object"
        },
        "modelServerConfig": {
          "additionalProperties": true,
          "required": [],
          "title": "modelServerConfig",
          "type": "object"
        },
        "port": {
          "additionalProperties": false,
          "properties": {
            "probes": {
              "default": 8080,
              "required": [],
              "title": "probes",
              "type": "integer"
            },
            "spi": {
              "default": 8081,
              "required": [],
              "title": "spi",
              "type": "integer"
            }
          },
          "required": [],
          "title": "port",
          "type": "object"
        },
        "readinessProbe": {
          "additionalProperties": false,
          "properties": {
            "initialDelaySeconds": {
              "default": 2,
              "required": [],
              "title": "initialDelaySeconds",
              "type": "integer"
            },
            "periodSeconds": {
              "default": 5,
              "required": [],
              "title": "periodSeconds",
              "type": "integer"
            }
          },
          "required": [],
          "title": "readinessProbe",
          "type": "object"
        },
        "resources": {
          "additionalProperties": false,
          "properties": {
            "limits": {
              "additionalProperties": false,
              "properties": {
                "cpus": {
                  "default": 1,
                  "required": [],
                  "title": "cpus",
                  "type": "integer"
                },
                "gpus": {
                  "default": 1,
                  "required": [],
                  "title": "gpus",
                  "type": "integer"
                },
                "memory": {
                  "default": "250Mi",
                  "required": [],
                  "title": "memory",
                  "type": "string"
                }
              },
              "required": [],
              "title": "limits",
              "type": "object"
            }
          },
          "required": [],
          "title": "resources",
          "type": "object"
        }
      },
      "required": [],
      "title": "requester"
    },
    "routing": {
      "additionalProperties": false,
      "description": " also describes elements for Gateway API Inference Extension configuration",
      "properties": {
        "proxy": {
          "additionalProperties": true,
          "description": " additionalProperties: true @schema Configuration of VLLM routing sidecar cf. https://github.com/llm-d/llm-d-routing-sidecar/",
          "properties": {
            "connector": {
              "default": "nixlv2",
              "description": "Specify a conenctor. For example, `nixl`, `nixlv2`",
              "required": [],
              "title": "connector",
              "type": "string"
            },
            "enabled": {
              "default": true,
              "required": [],
              "title": "enabled",
              "type": "boolean"
            },
            "image": {
              "default": "ghcr.io/llm-d/llm-d-routing-sidecar:latest",
              "required": [],
              "title": "image",
              "type": "string"
            },
            "imagePullPolicy": {
              "default": "Always",
              "required": [],
              "title": "imagePullPolicy",
              "type": "string"
            },
            "secure": {
              "default": false,
              "description": "Boolean: adds the `--secure-proxy` flag to the routingSidecar with your chosen value.  Arg is ommitted by default for compatability with legacy sidecar images.",
              "required": [],
              "title": "secure",
              "type": "boolean"
            },
            "targetPort": {
              "default": 8200,
              "description": "target port on which VLLM should listen",
              "required": [],
              "title": "targetPort",
              "type": "integer"
            },
            "zapEncoder": {
              "default": "json",
              "description": " prefillerUseTLS: true The path to the certificate for secure proxy.  Arg is ommitted by default for compatability with legacy sidecar images. certPath: \"/certs\" Zap logging configuration Boolean: Development Mode defaults(encoder=consoleEncoder,logLevel=Debug,stackTraceLevel=Warn). Production Mode defaults(encoder=jsonEncoder,logLevel=Info,stackTraceLevel=Error) @schema type: boolean default:false @schema zapDevel: false String: Zap log encoding (one of 'json' or 'console') @schema default: json enum: [json,console] @schema",
              "enum": [
                "json",
                "console"
              ],
              "required": [],
              "title": "zapEncoder"
            },
            "zapLogLevel": {
              "default": "debug",
              "description": " @schema type: [string, integer] default: debug @schema",
              "required": [],
              "title": "zapLogLevel",
              "type": [
                "string",
                "integer"
              ]
            }
          },
          "required": [],
          "title": "proxy"
        },
        "servicePort": {
          "default": "8000",
          "description": " modelName: random/modelId port the inference engine (vLLM) listens when a sidecar (proxy) is used it will listen on this port and forward to VLLM on proxy.targetPort",
          "required": [],
          "title": "servicePort"
        }
      },
      "required": [],
      "title": "routing"
    },
    "serviceAccountOverride": {
      "default": "",
      "description": "Override to default pod serviceAccountName",
      "required": [],
      "title": "serviceAccountOverride"
    },
    "tracing": {
      "additionalProperties": false,
      "description": "Name of the scheduler to use for scheduling model pods schedulerName: default-scheduler OpenTelemetry distributed tracing configuration When enabled, vLLM and routing-proxy containers will export traces to the OTLP endpoint",
      "properties": {
        "enabled": {
          "default": "false",
          "description": "Enable distributed tracing",
          "required": [],
          "title": "enabled"
        },
        "otlpEndpoint": {
          "default": "http://otel-collector:4317",
          "description": "OTLP gRPC endpoint for trace export (OTel Collector in the same namespace)",
          "required": [],
          "title": "otlpEndpoint"
        },
        "sampling": {
          "additionalProperties": false,
          "description": "Trace sampling configuration",
          "properties": {
            "sampler": {
              "default": "parentbased_traceidratio",
              "description": "OpenTelemetry sampler type (e.g., \"parentbased_traceidratio\", \"always_on\", \"always_off\")",
              "required": [],
              "title": "sampler"
            },
            "samplerArg": {
              "default": "1.0",
              "description": "Sampling ratio (0.0 to 1.0). Use 1.0 for 100% sampling (demo/debug), 0.1 for 10% (production)",
              "required": [],
              "title": "samplerArg"
            }
          },
          "required": [],
          "title": "sampling"
        },
        "serviceNames": {
          "additionalProperties": false,
          "description": "Service name overrides for different components",
          "properties": {
            "routingProxy": {
              "default": "routing-proxy",
              "description": "Service name for routing proxy sidecar",
              "required": [],
              "title": "routingProxy"
            },
            "vllmDecode": {
              "default": "vllm-decode",
              "description": "Service name for vLLM decode instances",
              "required": [],
              "title": "vllmDecode"
            },
            "vllmPrefill": {
              "default": "vllm-prefill",
              "description": "Service name for vLLM prefill instances",
              "required": [],
              "title": "vllmPrefill"
            }
          },
          "required": [],
          "title": "serviceNames"
        },
        "vllm": {
          "additionalProperties": false,
          "description": "vLLM-specific tracing options",
          "properties": {
            "collectDetailedTraces": {
              "default": "all",
              "description": "Level of trace detail collection (e.g., \"all\", \"model\", \"scheduler\")",
              "required": [],
              "title": "collectDetailedTraces"
            }
          },
          "required": [],
          "title": "vllm"
        }
      },
      "required": [],
      "title": "tracing"
    }
  },
  "required": [],
  "type": "object"
}
